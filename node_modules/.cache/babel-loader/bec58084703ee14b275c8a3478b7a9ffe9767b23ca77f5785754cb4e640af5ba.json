{"ast":null,"code":"export default {\n  data() {\n    return {\n      sal_soi: this.$route.params.idSoiree,\n      tic_nom: '',\n      tic_prenom: '',\n      tic_nb_personne: 1\n    };\n  },\n  methods: {\n    async handleSubmit() {\n      const ticket = {\n        tic_nom: this.tic_nom,\n        tic_prenom: this.tic_prenom,\n        tic_nb_personne: this.tic_nb_personne,\n        sal_soi: this.sal_soi\n      };\n      try {\n        const response = await fetch('http://localhost:8080/api/tickets', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(ticket)\n        });\n        if (!response.ok) {\n          throw new Error('Erreur lors de l\\'ajout du ticket');\n        }\n\n        // Ticket ajouté avec succès\n        console.log('Ticket ajouté avec succès');\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","sal_soi","$route","params","idSoiree","tic_nom","tic_prenom","tic_nb_personne","methods","handleSubmit","ticket","response","fetch","method","headers","body","JSON","stringify","ok","Error","console","log","error"],"sources":["C:\\Users\\33625\\Desktop\\M1\\System d'information\\projet\\projetVueJS\\concert\\concert-client\\src\\components\\CreateBillet.vue"],"sourcesContent":["<template>\r\n    <div class=\"container my-5\">\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-md-6\">\r\n          <h2 class=\"text-center mb-4\">Acheter un ticket</h2>\r\n          <form @submit.prevent=\"handleSubmit\" class=\"p-4 border rounded\">\r\n            <div class=\"mb-3\">\r\n              <label for=\"tic_nom\" class=\"form-label\">Nom:</label>\r\n              <input type=\"text\" v-model=\"tic_nom\" required class=\"form-control\" id=\"tic_nom\" />\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"tic_prenom\" class=\"form-label\">Prénom:</label>\r\n              <input type=\"text\" v-model=\"tic_prenom\" required class=\"form-control\" id=\"tic_prenom\" />\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"tic_prix\" class=\"form-label\">Prix de l'unité :</label>\r\n              <input type=\"text\" readonly value=\"43 Euro\" required class=\"form-control\" id=\"tic_prix\" />\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"tic_nb_personne\" class=\"form-label\">Nombre de tickets :</label>\r\n              <input type=\"number\" min=\"1\" max=\"10\" step=\"1\" v-model=\"tic_nb_personne\"  required class=\"form-control\" id=\"tic_nb_personne\" />\r\n            </div>\r\n            <button type=\"submit\" class=\"btn btn-primary\">Acheter</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        sal_soi: this.$route.params.idSoiree,\r\n        tic_nom: '',\r\n        tic_prenom: '',\r\n        tic_nb_personne: 1,\r\n      };\r\n    },\r\n    methods: {\r\n      async handleSubmit() {\r\n        const ticket = {\r\n            tic_nom: this.tic_nom,\r\n            tic_prenom: this.tic_prenom,\r\n            tic_nb_personne: this.tic_nb_personne,\r\n            sal_soi: this.sal_soi,\r\n        };\r\n  \r\n        try {\r\n          const response = await fetch('http://localhost:8080/api/tickets', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(ticket),\r\n          });\r\n  \r\n          if (!response.ok) {\r\n            throw new Error('Erreur lors de l\\'ajout du ticket');\r\n          }\r\n  \r\n          // Ticket ajouté avec succès\r\n          console.log('Ticket ajouté avec succès');\r\n        } catch (error) {\r\n          console.error(error);\r\n        }\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  "],"mappings":"AA8BE,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,QAAQ;MACpCC,OAAO,EAAE,EAAE;MACXC,UAAU,EAAE,EAAE;MACdC,eAAe,EAAE;IACnB,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,YAAYA,CAAA,EAAG;MACnB,MAAMC,MAAK,GAAI;QACXL,OAAO,EAAE,IAAI,CAACA,OAAO;QACrBC,UAAU,EAAE,IAAI,CAACA,UAAU;QAC3BC,eAAe,EAAE,IAAI,CAACA,eAAe;QACrCN,OAAO,EAAE,IAAI,CAACA;MAClB,CAAC;MAED,IAAI;QACF,MAAMU,QAAO,GAAI,MAAMC,KAAK,CAAC,mCAAmC,EAAE;UAChEC,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YACP,cAAc,EAAE;UAClB,CAAC;UACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACP,MAAM;QAC7B,CAAC,CAAC;QAEF,IAAI,CAACC,QAAQ,CAACO,EAAE,EAAE;UAChB,MAAM,IAAIC,KAAK,CAAC,mCAAmC,CAAC;QACtD;;QAEA;QACAC,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;MAC1C,EAAE,OAAOC,KAAK,EAAE;QACdF,OAAO,CAACE,KAAK,CAACA,KAAK,CAAC;MACtB;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}